<!DOCTYPE html>
<html lang="lt">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Multipliers Archetip≈≥ Testas v8</title>
<style>
  :root {
    --bg: #0f172a;
    --text: #e2e8f0;
    --card: #1e293b;
    --accent: #60a5fa;
    --muted: #94a3b8;
  }
  .light {
    --bg: #ffffff;
    --text: #1f2937;
    --card: #f1f5f9;
    --accent: #2563eb;
    --muted: #6b7280;
  }
  body { margin:0; font-family: system-ui, sans-serif; background: var(--bg); color: var(--text); }
  header { position: fixed; top:0; width:100%; background: var(--bg); border-bottom:1px solid var(--card); z-index:100; }
  .bar { display:flex; justify-content:space-between; align-items:center; padding:12px 16px; max-width:960px; margin:auto; }
  .toolbar button { margin-left:8px; }
  button { background: var(--accent); color:#fff; border:none; border-radius:6px; padding:8px 12px; cursor:pointer; }
  button.secondary { background:transparent; color:var(--text); border:1px solid var(--muted); }
  main { margin-top:70px; max-width:960px; padding:16px; margin-left:auto; margin-right:auto; }
  .card { background: var(--card); border-radius:8px; padding:12px; margin-bottom:12px; }
  .question { margin-bottom:10px; }
  .likert label { display:block; margin-bottom:4px; }
  .tooltip .tip { visibility:hidden; opacity:0; position:absolute; left:110%; top:0; background:rgba(30,41,59,0.9); color:#fff; padding:8px; border-radius:8px; width:220px; transition:opacity .2s; }
  .tooltip:hover .tip { visibility:visible; opacity:1; }
</style>
</head>
<body>
<header>
  <div class="bar">
    <div class="title">Multipliers Archetip≈≥ Testas v8</div>
    <div class="toolbar">
      <button id="themeBtn" class="secondary">üåô Tamsi</button>
      <button id="calcBtn">Apskaiƒçiuoti</button>
      <button id="resetBtn" class="secondary">I≈°valyti</button>
      <button id="pdfBtn" class="secondary">PDF</button>
    </div>
  </div>
</header>
<main>
  <section class="card" id="quiz">
    <h3>Klausimynas</h3>
    <div id="questions"></div>
  </section>
  <aside class="card">
    <h3>Rezultatai</h3>
    <div id="summary">Kol kas neapskaiƒçiuota.</div>
    <div class="tooltip" style="margin-top:8px;">
      <span class="badge">Archetip≈≥ paai≈°kinimai</span>
      <div class="tip">
        Talent Magnet ‚Äì pritraukia talentus.<br>
        Liberator ‚Äì suteikia laisvƒô.<br>
        Challenger ‚Äì kelia i≈°≈°≈´kius.<br>
        Debate Maker ‚Äì skatina diskusijas.<br>
        Investor ‚Äì deleguoja atsakomybƒô.
      </div>
    </div>
    <canvas id="radar"></canvas>
  </aside>
</main>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.2/html2pdf.bundle.min.js"></script>
<script>
const questionsData = [
  {text:'Da≈ænai skatinu komandƒÖ dalintis idƒójomis', weight:'TM', type:'pos'},
  {text:'Reguliariai suteikiu ≈æmonƒóms progas augti', weight:'TM', type:'pos'},
  {text:'Retai ƒØtraukiu naujus ≈æmones (invertuotas)', weight:'TM', type:'neg'},
  {text:'Kai atsiranda naujas projektas, svarstau kas u≈ædegs kitus', weight:'TM', type:'pos'},
  {text:'Sukuriu saugiƒÖ erdvƒô klysti ir mokytis', weight:'LB', type:'pos'},
  {text:'Esu linkƒôs mikromanaguoti', weight:'LB', type:'neg'},
  {text:'Kai projektas vƒóluoja, padedu pa≈°alinti kli≈´tis', weight:'LB', type:'pos'},
  {text:'Da≈ænai pats priimu sprendimus', weight:'LB', type:'neg'},
  {text:'Da≈ænai keliu komandai tikslus, kurie reikalauja nauj≈≥ sprendim≈≥', weight:'CH', type:'pos'},
  {text:'Vengiu kelti ambicingus tikslus', weight:'CH', type:'neg'},
  {text:'Kai reikia pakeisti kryptƒØ, ai≈°kiai ƒØvardiju ‚Äûkodƒól‚Äú', weight:'CH', type:'pos'},
  {text:'Da≈ænai renkuosi saugius sprendimus', weight:'CH', type:'neg'},
  {text:'Prie≈° sprendimus kvieƒçiu diskusijƒÖ', weight:'DM', type:'pos'},
  {text:'Diskusijos baigiasi tuo, kad nusprend≈æiu vienas', weight:'DM', type:'neg'},
  {text:'Kai kyla konfliktas, padedu nustatyti kriterijus', weight:'DM', type:'pos'},
  {text:'Retai pra≈°au ƒØrodym≈≥ prie≈° sprendimƒÖ', weight:'DM', type:'neg'},
  {text:'Deleguoju atsakomybƒô su ai≈°kiu rezultatu', weight:'IN', type:'pos'},
  {text:'Linkƒôs pats ‚Äûu≈æbaigti‚Äú', weight:'IN', type:'neg'},
  {text:'Kai deleguoju, pra≈°au ataskaitos apie rezultatƒÖ', weight:'IN', type:'pos'},
  {text:'Da≈ænai suteikiu u≈æduotis be konteksto', weight:'IN', type:'neg'},
  {text:'Kartais sƒÖmoningai neatsakau ƒØ klausimus', weight:'SP', type:'neutral'},
  {text:'Linkƒôs rinktis kra≈°tutines opcijas', weight:'SP', type:'neutral'},
  {text:'Noriu palikti gerƒÖ ƒØsp≈´dƒØ', weight:'SP', type:'neutral'},
  {text:'Esu linkƒôs skubƒóti atsakydamas', weight:'SP', type:'neutral'},
  {text:'Kartais atsakau ‚Äûkaip reikia‚Äú', weight:'SP', type:'neutral'}
];

function shuffle(arr){ return arr.sort(()=>Math.random()-0.5); }
function renderQuestions(){
  const container = document.getElementById('questions');
  container.innerHTML='';
  shuffle(questionsData).forEach((q,i)=>{
    const div=document.createElement('div'); div.className='question';
    div.innerHTML=`<strong>${i+1}.</strong> ${q.text}<br>`;
    ['Labai nesutinku','Nesutinku','Neutralu','Sutinku','Labai sutinku'].forEach((opt,j)=>{
      div.innerHTML+=`<label><input type="radio" name="q${i}" value="${j+1}"> ${opt}</label>`;
    });
    div.dataset.weight=q.weight; div.dataset.type=q.type;
    container.appendChild(div);
  });
}
renderQuestions();

let isLight=false; document.getElementById('themeBtn').onclick=()=>{isLight=!isLight;document.body.classList.toggle('light',isLight);document.getElementById('themeBtn').textContent=isLight?'‚òÄÔ∏è ≈†viesi':'üåô Tamsi';};

function readValue(name){const nodes=document.getElementsByName(name);for(const n of nodes){if(n.checked)return parseInt(n.value);}return null;}
function score(){const g={TM:0,LB:0,CH:0,DM:0,IN:0};const c={TM:0,LB:0,CH:0,DM:0,IN:0};document.querySelectorAll('.question').forEach((q,i)=>{const v=readValue('q'+i);if(v!=null){let val=v;if(q.dataset.type==='neg')val=6-v;if(val===5)val=5.5;if(val===1)val=1.2;g[q.dataset.weight]=(g[q.dataset.weight]||0)+val;c[q.dataset.weight]=(c[q.dataset.weight]||0)+1;}});for(const k in g){if(c[k])g[k]=g[k]/c[k]*4;}return g;}
function interpret(g){const arr=Object.entries(g).sort((a,b)=>b[1]-a[1]);const top=arr[0];const low=arr[arr.length-1];return `Dominuoja ${top[0]}, silpniausia ${low[0]}.`;}
let radar;function drawRadar(g){const ctx=document.getElementById('radar');if(radar)radar.destroy();radar=new Chart(ctx,{type:'radar',data:{labels:['Talent Magnet','Liberator','Challenger','Debate Maker','Investor'],datasets:[{label:'Profilis',data:[g.TM||0,g.LB||0,g.CH||0,g.DM||0,g.IN||0],borderColor:getComputedStyle(document.body).getPropertyValue('--accent').trim(),backgroundColor:'rgba(96,165,250,0.2)'}]},options:{scales:{r:{suggestedMin:0,suggestedMax:20}}}});}

document.getElementById('calcBtn').onclick=()=>{const g=score();drawRadar(g);document.getElementById('summary').innerHTML=`<p><strong>Bendras balas:</strong> ${(Object.values(g).reduce((a,b)=>a+b,0)).toFixed(1)} / 100<br>${interpret(g)}</p>`;};
document.getElementById('resetBtn').onclick=()=>{document.querySelectorAll('input[type=radio]').forEach(i=>i.checked=false);document.getElementById('summary').textContent='Kol kas neapskaiƒçiuota.';if(radar)radar.destroy();};
document.getElementById('pdfBtn').onclick=()=>{html2pdf().from(document.body).save();};
</script>
</body>
</html>
