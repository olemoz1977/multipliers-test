
<!DOCTYPE html>
<html lang="lt">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Multipliers ArchetipÅ³ Testas v10.7</title>
<style>
  :root { --bg:#0f172a; --text:#e2e8f0; --card:#1e293b; --accent:#60a5fa; --muted:#94a3b8; }
  .light { --bg:#ffffff; --text:#1f2937; --card:#f1f5f9; --accent:#2563eb; --muted:#6b7280; }
  body { margin:0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; background:var(--bg); color:var(--text); }
  header { position:fixed; top:0; left:0; right:0; background:var(--bg); border-bottom:1px solid var(--card); z-index:100; }
  .bar { max-width:1000px; margin:auto; padding:10px 16px; display:flex; justify-content:space-between; align-items:center; }
  .toolbar { display:flex; gap:8px; flex-wrap:wrap; align-items:center; }
  button { background:var(--accent); color:#fff; border:none; border-radius:8px; padding:8px 12px; font-weight:600; cursor:pointer; }
  button.secondary { background:transparent; color:var(--text); border:1px solid var(--muted); }
  .badge { font-size:.85rem; padding:4px 8px; border-radius:999px; border:1px solid var(--muted); margin-left:8px; }
  main { max-width:1000px; margin:80px auto 24px; padding:0 16px; }
  .grid { display:grid; grid-template-columns:1fr; gap:12px; }
  @media(min-width:1024px){ .grid { grid-template-columns:1.2fr 0.8fr; } }
  .card { background:var(--card); border-radius:12px; padding:12px; }
  .question { margin-bottom:12px; }
  .qtext { margin-bottom:6px; }
  .likert { display:flex; flex-wrap:wrap; gap:8px; }
  .likert label { background: rgba(255,255,255,0.05); border:1px solid rgba(255,255,255,0.12); padding:6px 8px; border-radius:8px; }
  .muted { color:var(--muted); font-size:0.9rem; }
  .archetypes { margin-top:12px; padding:10px; background:rgba(255,255,255,0.05); border-radius:8px; }
  .archetypes p { margin:6px 0; }
  .error { color:#ffb4b4; font-weight:600; margin:8px 0; }
  #resultsCard.highlight { outline: 2px solid var(--accent); box-shadow: 0 0 0 4px rgba(96,165,250,0.25); transition: outline .2s; }
  /* Print lapas */
  .pdf-sheet { display:none; background:#fff; color:#111; padding:20px; font-family: Arial, sans-serif; }
  .pdf-sheet h2 { margin:0 0 10px 0; }
  .pdf-sheet .line { margin:6px 0; }
  .pdf-sheet .small { color:#666; font-size:12px; }
  .pdf-sheet .block { border:1px solid #e5e7eb; border-radius:8px; padding:12px; margin-top:10px; }
  @media print {
    body { -webkit-print-color-adjust: exact; print-color-adjust: exact; }
    header, #quiz, .toolbar { display:none !important; }
    #resultsCard { display:none !important; }
    .pdf-sheet { display:block !important; }
    html, body { background:#fff !important; color:#111 !important; }
  }
</style>
</head>
<body>
<header>
  <div class="bar">
    <div class="title">Multipliers ArchetipÅ³ Testas v10.7</div>
    <div class="toolbar">
      <button id="themeBtn" class="secondary" onclick="toggleTheme()">ğŸŒ™ Tamsi</button>
      <button id="calcBtn" onclick="calculate()">ApskaiÄiuoti</button>
      <button id="resetBtn" class="secondary" onclick="resetAll()">IÅ¡valyti</button>
      <button id="pdfNativeBtn" class="secondary" onclick="pdfNative()">PDF (narÅ¡yklÄ—s)</button>
      <span id="libStatus" class="badge">Bibliotekos: tik Chart.js</span>
    </div>
  </div>
</header>

<main>
  <div class="grid">
    <section class="card" id="quiz">
      <h3>Klausimynas</h3>
      <p id="errorBox" class="error" style="display:none;"></p>
      <p class="muted">25 klausimai (4Ã—5 archetipai + 5 SP kontrolÄ—s). Likerto skalÄ— 1â€“5. Klausimai sumaiÅ¡omi kiekvienÄ… kartÄ….</p>
      <div id="questions"></div>
    </section>

    <aside class="card" id="resultsCard">
      <h3>Rezultatai</h3>
      <div id="summary" class="muted">Kol kas neapskaiÄiuota.</div>
      <div class="card" style="margin-top:12px;">
        <canvas id="radar"></canvas>
      </div>

      <div class="archetypes">
        <h4>ArchetipÅ³ paaiÅ¡kinimai</h4>
        <p><strong>Talent Magnet</strong> â€“ pritraukia ir optimizuoja talentÄ…; Kalbant paprastai - **pastebÄ—k ir pakviesk Å¾mones atsiskleisti**.</p>
        <p><strong>Liberator</strong> â€“ kuria saugiÄ…, bet reikalaujanÄiÄ… erdvÄ™;  Kalbant paprastai -  **leisk klysti, bet aiÅ¡kiai susitark dÄ—l standartÅ³**.</p>
        <p><strong>Challenger</strong> â€“ formuluoja ambicijÄ… ir â€kodÄ—lâ€œ;  Kalbant paprastai - **iÅ¡keli tikslÄ… ir klausi â€kaip padarysime?â€œ**.</p>
        <p><strong>Debate Maker</strong> â€“ kvieÄia skirtingas perspektyvas;  Kalbant paprastai - **prieÅ¡ sprendimÄ… praÅ¡yk faktÅ³ ir nuomoniÅ³**.</p>
        <p><strong>Investor</strong> â€“ deleguoja rezultatÄ… ir suteikia resursus; Kalbant paprastai - **pasakyk rezultatÄ…, duok resursus, susitark dÄ—l patikros**.</p>
      </div>
    </aside>
  </div>
</main>



<script>

const ARCH = [
  {key:'TM', name:'Talent Magnet', color:'#66a6ff'},
  {key:'LB', name:'Liberator',     color:'#59c173'},
  {key:'CH', name:'Challenger',    color:'#f6c453'},
  {key:'DM', name:'Debate Maker',  color:'#c792ea'},
  {key:'IN', name:'Investor',      color:'#ff6b6b'}
];

const QUESTIONS = [
  {a:'TM', t:'AÅ¡ pastebiu Å¾moniÅ³ stiprybes ir kvieÄiu jas panaudoti darbe.'},
  {a:'TM', t:'Skiriu laikÄ… talentui atpaÅ¾inti ir parinkti tinkamas uÅ¾duotis.'},
  {a:'TM', t:'Padedu Å¾monÄ—ms atsiskleisti suteikdamas erdvÄ™ ir grÄ¯Å¾tamÄ…jÄ¯ ryÅ¡Ä¯.'},
  {a:'TM', t:'Reguliariai kvieÄiu naujus Å¾mones prisidÄ—ti prie svarbiÅ³ temÅ³.'},

  {a:'LB', t:'AiÅ¡kiai susitariame dÄ—l standartÅ³, bet leidÅ¾iu klysti mokantis.'},
  {a:'LB', t:'Kuriu saugiÄ… aplinkÄ… kalbÄ—ti apie problemas be kaltinimÅ³.'},
  {a:'LB', t:'Skatinu komandoje drausmÄ™ laikytis susitarimÅ³.'},
  {a:'LB', t:'Greitai reaguoju Ä¯ nusiÅ¾engimus, bet teisingai ir pagarbiai.'},

  {a:'CH', t:'Formuluoju ambicijÄ… su aiÅ¡kiu â€kodÄ—lâ€œ.'},
  {a:'CH', t:'Klausiu â€kaip padarysime?â€œ vietoje â€ar tai Ä¯manoma?â€œ'},
  {a:'CH', t:'Padedu komandai matyti didesnÄ¯ paveikslÄ… ir kryptÄ¯.'},
  {a:'CH', t:'IÅ¡Å¡Å«kius paverÄiu mokymosi galimybÄ—mis.'},

  {a:'DM', t:'PrieÅ¡ sprendimÄ… kvieÄiu skirtingas perspektyvas ir faktus.'},
  {a:'DM', t:'Moku vesti konstruktyvias diskusijas be asmeniÅ¡kumÅ³.'},
  {a:'DM', t:'Skiriu laiko argumentÅ³ â€uÅ¾â€œ ir â€prieÅ¡â€œ Ä¯vertinimui.'},
  {a:'DM', t:'Priimdamas sprendimÄ… apibendrinu iÅ¡girstus poÅ¾iÅ«rius.'},

  {a:'IN', t:'Deleguoju rezultatÄ…, o ne tik uÅ¾duotis.'},
  {a:'IN', t:'Suteikiu reikiamus resursus ir paÅ¡alinu kliÅ«tis.'},
  {a:'IN', t:'Sutariu dÄ—l patikros taÅ¡kÅ³ ir atsakomybÄ—s.'},
  {a:'IN', t:'Po delegavimo iÅ¡laikau pasitikÄ—jimÄ… ir palaikymÄ….'},

  {a:'SP', t:'DaÅ¾nai jauÄiu stresÄ… darbe (invertuotas).', inv:true},
  {a:'SP', t:'Vengiu neapibrÄ—Å¾tumo ir rizikos (invertuotas).', inv:true},
  {a:'SP', t:'Konfliktuose linkÄ™s gintis, o ne ieÅ¡koti sprendimÅ³ (invertuotas).', inv:true},
  {a:'SP', t:'Retai praÅ¡au grÄ¯Å¾tamojo ryÅ¡io (invertuotas).', inv:true},
  {a:'SP', t:'DaÅ¾nai atidÄ—lioju svarbius pokalbius (invertuotas).', inv:true}
];

function shuffle(arr){ for(let i=arr.length-1;i>0;i--){ const j=Math.floor(Math.random()*(i+1)); [arr[i],arr[j]]=[arr[j],arr[i]]; } return arr; }

function renderQuestions(){
  const container = document.getElementById('questions');
  container.innerHTML = '';
  let idx = 0;
  for(const q of shuffle([...QUESTIONS])){
    const row = document.createElement('div');
    row.className = 'q';
    const label = document.createElement('label');
    label.innerHTML = `<strong>${(++idx).toString().padStart(2,'0')}.</strong> ${q.t}`;
    const scale = document.createElement('div');
    scale.className = 'scale';
    for(let v=1; v<=5; v++){
      const input = document.createElement('input');
      input.type = 'radio';
      input.name = 'q_'+idx;   // unikalus name kiekvienai grupei
      input.value = v;
      input.required = true;
      scale.appendChild(input);
    }
    row.appendChild(label);
    row.appendChild(scale);
    row.dataset.arch = q.a;
    row.dataset.inv  = q.inv ? '1' : '0';
    container.appendChild(row);
  }
}

function collect(){
  const rows = [...document.querySelectorAll('.q')];
  const scores = {TM:0, LB:0, CH:0, DM:0, IN:0};
  const counts = {TM:0, LB:0, CH:0, DM:0, IN:0};
  let missing = 0;
  for(const r of rows){
    const chosen = r.querySelector('input[type=radio]:checked');
    if(!chosen){ missing++; continue; }
    let v = Number(chosen.value);
    if(r.dataset.inv === '1') v = 6 - v; // invert SP
    const a = r.dataset.arch;
    if(a in scores){ scores[a] += v; counts[a] += 1; }
  }
  return {scores, counts, missing};
}

function normalize(sum, cnt){ return cnt ? (sum/cnt) : 0; }

function drawRadar(vals){
  const svg = document.getElementById('radar');
  svg.innerHTML = '';
  const R = 200, levels = 5;

  // foniniai poligonai
  for(let lvl=1; lvl<=levels; lvl++){
    const r = (lvl/levels)*R, pts = [];
    for(let i=0;i<ARCH.length;i++){
      const ang = (-90 + i*360/ARCH.length) * Math.PI/180;
      pts.push(`${(r*Math.cos(ang)).toFixed(1)},${(r*Math.sin(ang)).toFixed(1)}`);
    }
    const grid = document.createElementNS('http://www.w3.org/2000/svg','polygon');
    grid.setAttribute('points', pts.join(' '));
    grid.setAttribute('fill','none');
    grid.setAttribute('stroke','#2a2e39');
    svg.appendChild(grid);
  }

  // aÅ¡iÅ³ etiketÄ—s
  for(let i=0;i<ARCH.length;i++){
    const ang = (-90 + i*360/ARCH.length) * Math.PI/180;
    const x = (220*Math.cos(ang)).toFixed(1);
    const y = (220*Math.sin(ang)).toFixed(1);
    const text = document.createElementNS('http://www.w3.org/2000/svg','text');
    text.setAttribute('x', x);
    text.setAttribute('y', y);
    text.setAttribute('text-anchor','middle');
    text.setAttribute('dominant-baseline','middle');
    text.setAttribute('fill', '#aab4c0');
    text.textContent = ARCH[i].name;
    svg.appendChild(text);
  }

  // duomenÅ³ poligonas
  const pts = ARCH.map((_,i)=>{
    const ang = (-90 + i*360/ARCH.length) * Math.PI/180;
    const r = (vals[i]/5)*R;
    return `${(r*Math.cos(ang)).toFixed(1)},${(r*Math.sin(ang)).toFixed(1)}`;
  });
  const poly = document.createElementNS('http://www.w3.org/2000/svg','polygon');
  poly.setAttribute('points', pts.join(' '));
  poly.setAttribute('fill','rgba(102,166,255,0.25)');
  poly.setAttribute('stroke','#66a6ff');
  poly.setAttribute('stroke-width','2');
  svg.appendChild(poly);
}

function calc(){
  const {scores, counts, missing} = collect();
  if(missing>0){
    document.getElementById('status').innerHTML = `Liko neatsakytÅ³: <span class="bad">${missing}</span>`;
    return;
  }
  const vals = ARCH.map(a => normalize(scores[a.key], counts[a.key]));
  drawRadar(vals);
  const maxIdx = vals.indexOf(Math.max(...vals));
  const best = ARCH[maxIdx];
  document.getElementById('summary').innerHTML =
    `Dominuojantis archetipas: <strong>${best.name}</strong>. ` +
    ARCH.map((a,i)=>`${a.name}: ${vals[i].toFixed(2)}`).join(' | ');
  document.getElementById('status').textContent = 'âœ… ApskaiÄiuota.';
}

function reset(){
  document.querySelectorAll('.q input[type=radio]:checked').forEach(i=>i.checked=false);
  document.getElementById('summary').textContent = 'Kol kas neapskaiÄiuota.';
  document.getElementById('status').textContent = '';
  drawRadar([0,0,0,0,0]);
}

function initApp(){
  renderQuestions();
  reset();
  document.getElementById('calc').addEventListener('click', calc);
  document.getElementById('reset').addEventListener('click', ()=>{ renderQuestions(); reset(); });
}
window.addEventListener('DOMContentLoaded', initApp);
</script>
</body>
</html>
