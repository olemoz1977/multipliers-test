<!DOCTYPE html>
<html lang="lt">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Multipliers ArchetipÅ³ Testas v7 (mobile)</title>
<style>
  :root {
    --bg: #0f172a; /* dark */
    --text: #e2e8f0;
    --card: #1e293b;
    --accent: #60a5fa;
    --muted: #94a3b8;
  }
  .light {
    --bg: #ffffff; /* light */
    --text: #1f2937;
    --card: #f1f5f9;
    --accent: #2563eb;
    --muted: #6b7280;
  }
  html, body { height:100%; }
  body { margin:0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; background: var(--bg); color: var(--text); }
  header { position: sticky; top:0; background: var(--bg); border-bottom: 1px solid var(--card); z-index: 10; }
  .bar { display:flex; align-items:center; justify-content:space-between; padding: 12px 16px; max-width: 960px; margin: 0 auto; }
  .title { font-weight:700; letter-spacing:0.2px; }
  .container { max-width: 960px; margin: 0 auto; padding: 16px; }
  .card { background: var(--card); border-radius: 12px; padding: 12px; margin-bottom: 14px; }
  .row { display:grid; grid-template-columns: 1fr; gap:12px; }
  @media(min-width: 768px){ .row { grid-template-columns: 1fr 1fr; } }
  .question { margin-top: 6px; }
  .qtext { font-size: 0.98rem; margin-bottom: 6px; }
  .likert { display:flex; flex-wrap:wrap; gap:8px; }
  .likert label { background: rgba(255,255,255,0.04); border:1px solid rgba(255,255,255,0.12); padding:6px 8px; border-radius:8px; cursor:pointer; }
  input[type="radio"] { margin-right:6px; }
  .toolbar { display:flex; flex-wrap:wrap; gap:8px; }
  button { background: var(--accent); color: white; border: none; border-radius: 8px; padding: 10px 12px; font-weight:600; cursor:pointer; }
  button.secondary { background: transparent; color: var(--text); border:1px solid var(--muted); }
  .muted { color: var(--muted); font-size:0.9rem; }
  .grid2 { display:grid; grid-template-columns: 1fr; gap:12px; }
  @media(min-width: 1024px){ .grid2 { grid-template-columns: 1.2fr 0.8fr; } }
  canvas { width:100% !important; height:auto !important; }
  .legend { display:flex; gap:8px; flex-wrap:wrap; }
  .badge { padding:4px 8px; border-radius:999px; font-size:0.85rem; border:1px solid var(--muted); }
  .tooltip { position:relative; display:inline-block; }
  .tooltip .tip { visibility:hidden; opacity:0; position:absolute; left:0; top:110%; background: var(--card); color: var(--text); border:1px solid var(--muted); padding:8px; border-radius:8px; width:220px; transition:opacity .2s; }
  .tooltip:hover .tip { visibility:visible; opacity:1; }
</style>
</head>
<body class="dark">
  <header>
    <div class="bar">
      <div class="title">Multipliers ArchetipÅ³ Testas v7</div>
      <div class="toolbar">
        <button id="themeBtn" class="secondary" aria-label="Perjungti temÄ…">ğŸŒ™ Tamsi</button>
        <button id="calcBtn">ApskaiÄiuoti</button>
        <button id="resetBtn" class="secondary">IÅ¡valyti</button>
        <button id="pdfBtn" class="secondary">PDF</button>
      </div>
    </div>
  </header>

  <main class="container">
    <div class="grid2">
      <section class="card" id="quiz">
        <h3>Klausimynas</h3>
        <p class="muted">20 klausimÅ³ (4 per archetipÄ…) + 5 SP kontrolÄ—s klausimai. Likerto skalÄ— 1â€“5. Situaciniuose klausimuose Å¾ymÄ—s nerodomos.</p>
        <div class="row">
          <!-- Talent Magnet (TM): 2 Likert + 1 invertuotas + 1 situacinis -->
          <div class="question card">
            <div class="badge">Talent Magnet</div>
            <div class="qtext">1. DaÅ¾nai pastebiu ir vieÅ¡ai pabrÄ—Å¾iu Å¾moniÅ³ stiprybes komandoje.</div>
            <div class="likert" data-weight="TM" data-type="pos" id="q1"></div>
          </div>
          <div class="question card">
            <div class="badge">Talent Magnet</div>
            <div class="qtext">2. Reguliariai suteikiu Å¾monÄ—ms progas augti (projektai, vaidmenys, mentorystÄ—).</div>
            <div class="likert" data-weight="TM" data-type="pos" id="q2"></div>
          </div>
          <div class="question card">
            <div class="badge">Talent Magnet</div>
            <div class="qtext">3. Retai Ä¯traukiu naujus Å¾mones, kai uÅ¾tenka senos komandos (invertuotas).</div>
            <div class="likert" data-weight="TM" data-type="neg" id="q3"></div>
          </div>
          <div class="question card">
            <div class="badge">Talent Magnet</div>
            <div class="qtext">4. Kai atsiranda naujas projektas, pirmiausia svarstau, kuris Å¾mogus iÅ¡ komandos galÄ—tÅ³ â€uÅ¾degtiâ€œ kitus savo energija.</div>
            <div class="likert" data-weight="TM" data-type="pos" id="q4"></div>
          </div>

          <!-- Liberator (LB) -->
          <div class="question card">
            <div class="badge">Liberator</div>
            <div class="qtext">5. Sukuriu aiÅ¡kias ribas ir saugiÄ… erdvÄ™, kur Å¾monÄ—s gali klysti ir mokytis.</div>
            <div class="likert" data-weight="LB" data-type="pos" id="q5"></div>
          </div>
          <div class="question card">
            <div class="badge">Liberator</div>
            <div class="qtext">6. Esu linkÄ™s mikromanaguoti (invertuotas).</div>
            <div class="likert" data-weight="LB" data-type="neg" id="q6"></div>
          </div>
          <div class="question card">
            <div class="badge">Liberator</div>
            <div class="qtext">7. Kai projektas vÄ—luoja, padedu komandai paÅ¡alinti kliÅ«tis, o ne nurodau sprendimus.</div>
            <div class="likert" data-weight="LB" data-type="pos" id="q7"></div>
          </div>
          <div class="question card">
            <div class="badge">Liberator</div>
            <div class="qtext">8. DaÅ¾nai pats priimu sprendimus, net jei komanda turi gerÅ³ idÄ—jÅ³ (invertuotas).</div>
            <div class="likert" data-weight="LB" data-type="neg" id="q8"></div>
          </div>

          <!-- Challenger (CH) -->
          <div class="question card">
            <div class="badge">Challenger</div>
            <div class="qtext">9. DaÅ¾nai keliu komandai tikslus, kurie reikalauja naujÅ³ sprendimÅ³, o ne tik rutinos.</div>
            <div class="likert" data-weight="CH" data-type="pos" id="q9"></div>
          </div>
          <div class="question card">
            <div class="badge">Challenger</div>
            <div class="qtext">10. Vengiu kelti ambicingus tikslus, kad neperkrauÄiau komandos (invertuotas).</div>
            <div class="likert" data-weight="CH" data-type="neg" id="q10"></div>
          </div>
          <div class="question card">
            <div class="badge">Challenger</div>
            <div class="qtext">11. Kai reikia pakeisti kryptÄ¯, aiÅ¡kiai Ä¯vardiju â€kodÄ—lâ€œ ir kvieÄiu komandÄ… rasti geriausiÄ… keliÄ….</div>
            <div class="likert" data-weight="CH" data-type="pos" id="q11"></div>
          </div>
          <div class="question card">
            <div class="badge">Challenger</div>
            <div class="qtext">12. DaÅ¾nai renkuosi saugius, Å¾inomus sprendimus, net jei prarandame galimybÄ™ augti (invertuotas).</div>
            <div class="likert" data-weight="CH" data-type="neg" id="q12"></div>
          </div>

          <!-- Debate Maker (DM) -->
          <div class="question card">
            <div class="badge">Debate Maker</div>
            <div class="qtext">13. PrieÅ¡ priimant sprendimus, sÄ…moningai kvieÄiu skirtingas perspektyvas ir diskusijÄ….</div>
            <div class="likert" data-weight="DM" data-type="pos" id="q13"></div>
          </div>
          <div class="question card">
            <div class="badge">Debate Maker</div>
            <div class="qtext">14. Diskusijos daÅ¾nai baigiasi tuo, kad aÅ¡ nusprendÅ¾iu vienas (invertuotas).</div>
            <div class="likert" data-weight="DM" data-type="neg" id="q14"></div>
          </div>
          <div class="question card">
            <div class="badge">Debate Maker</div>
            <div class="qtext">15. Kai kyla konfliktas dÄ—l idÄ—jÅ³, padedu nustatyti kriterijus ir priimti sprendimÄ… remiantis faktais.</div>
            <div class="likert" data-weight="DM" data-type="pos" id="q15"></div>
          </div>
          <div class="question card">
            <div class="badge">Debate Maker</div>
            <div class="qtext">16. Retai praÅ¡au Ä¯rodymÅ³ ar duomenÅ³ prieÅ¡ priimdamas sprendimÄ… (invertuotas).</div>
            <div class="likert" data-weight="DM" data-type="neg" id="q16"></div>
          </div>

          <!-- Investor (IN) -->
          <div class="question card">
            <div class="badge">Investor</div>
            <div class="qtext">17. Deleguoju atsakomybÄ™ su aiÅ¡kiu rezultatu ir suteikiu reikiamus resursus.</div>
            <div class="likert" data-weight="IN" data-type="pos" id="q17"></div>
          </div>
          <div class="question card">
            <div class="badge">Investor</div>
            <div class="qtext">18. LinkÄ™s pats â€uÅ¾baigtiâ€œ, net kai tai galÄ—tÅ³ padaryti komanda (invertuotas).</div>
            <div class="likert" data-weight="IN" data-type="neg" id="q18"></div>
          </div>
          <div class="question card">
            <div class="badge">Investor</div>
            <div class="qtext">19. Kai Å¾mogui deleguoju uÅ¾duotÄ¯, vÄ—liau praÅ¡au ataskaitos apie pasiektÄ… rezultatÄ…, o ne apie procesÄ….</div>
            <div class="likert" data-weight="IN" data-type="pos" id="q19"></div>
          </div>
          <div class="question card">
            <div class="badge">Investor</div>
            <div class="qtext">20. DaÅ¾nai suteikiu uÅ¾duotis be konteksto ir aiÅ¡kiÅ³ ribÅ³ (invertuotas).</div>
            <div class="likert" data-weight="IN" data-type="neg" id="q20"></div>
          </div>

          <!-- SP kontrolÄ—: 5 klausimai -->
          <div class="question card">
            <div class="badge">SP KontrolÄ—</div>
            <div class="qtext">SP1. Kartais sÄ…moningai neatsakau Ä¯ klausimus, jei manau, kad jie yra asmeniÅ¡ki.</div>
            <div class="likert" data-weight="SP" data-type="neutral" id="sp1"></div>
          </div>
          <div class="question card">
            <div class="badge">SP KontrolÄ—</div>
            <div class="qtext">SP2. AtsakinÄ—jant Ä¯ apklausas linkÄ™s rinktis kraÅ¡tutines opcijas.</div>
            <div class="likert" data-weight="SP" data-type="neutral" id="sp2"></div>
          </div>
          <div class="question card">
            <div class="badge">SP KontrolÄ—</div>
            <div class="qtext">SP3. Atsakydamas noriu palikti kuo geresnÄ¯ Ä¯spÅ«dÄ¯, net jei tai nÄ—ra tikslu.</div>
            <div class="likert" data-weight="SP" data-type="neutral" id="sp3"></div>
          </div>
          <div class="question card">
            <div class="badge">SP KontrolÄ—</div>
            <div class="qtext">SP4. Esu linkÄ™s skubÄ—ti atsakydamas Ä¯ klausimus.</div>
            <div class="likert" data-weight="SP" data-type="neutral" id="sp4"></div>
          </div>
          <div class="question card">
            <div class="badge">SP KontrolÄ—</div>
            <div class="qtext">SP5. Kartais atsakau â€kaip reikiaâ€œ, o ne â€kaip yraâ€œ.</div>
            <div class="likert" data-weight="SP" data-type="neutral" id="sp5"></div>
          </div>
        </div>
      </section>

      <aside class="card">
        <h3>Rezultatai</h3>
        <div id="summary" class="muted">Kol kas neapskaiÄiuota.</div>
        <div class="legend" style="margin-top:8px;">
          <div class="tooltip"><span class="badge">Talent Magnet</span><div class="tip">Pritraukia ir iÅ¡laiko talentus; mato stiprybes ir suteikia scenÄ… joms atsiskleisti.</div></div>
          <div class="tooltip"><span class="badge">Liberator</span><div class="tip">Sukuria saugiÄ…, bet grieÅ¾tÄ… erdvÄ™ rezultatams; paÅ¡alina kliÅ«tis, neperima kontrolÄ—s.</div></div>
          <div class="tooltip"><span class="badge">Challenger</span><div class="tip">Keliamas aiÅ¡kus â€kodÄ—lâ€œ, ambicija ir iÅ¡Å¡Å«kis; skatina naujus sprendimus.</div></div>
          <div class="tooltip"><span class="badge">Debate Maker</span><div class="tip">Skatina skirtingas perspektyvas; sprendimai per kriterijus ir Ä¯rodymus.</div></div>
          <div class="tooltip"><span class="badge">Investor</span><div class="tip">Deleguoja atsakomybÄ™ su resursais ir laukiamu rezultatu; grÄ¯Å¾tamasis ryÅ¡ys.</div></div>
        </div>
        <div class="card" style="margin-top:12px;">
          <canvas id="radar"></canvas>
        </div>
      </aside>
    </div>
  </main>

<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.2/html2pdf.bundle.min.js"></script>
<script>
// --- UI: suformuojame Likert mygtukus mobiliai ---
const scale = [
  {v:1,t:'Labai nesutinku'},
  {v:2,t:'Nesutinku'},
  {v:3,t:'Neutralu'},
  {v:4,t:'Sutinku'},
  {v:5,t:'Labai sutinku'},
];

function renderLikert(containerId){
  const el = document.getElementById(containerId);
  scale.forEach(s=>{
    const lbl = document.createElement('label');
    const input = document.createElement('input');
    input.type = 'radio'; input.name = containerId; input.value = s.v;
    lbl.appendChild(input); lbl.appendChild(document.createTextNode(' '+s.t));
    el.appendChild(lbl);
  });
}

[...Array(20).keys()].forEach(i=>renderLikert('q'+(i+1)));
['sp1','sp2','sp3','sp4','sp5'].forEach(renderLikert);

// --- Tema: tamsi/Å¡viesi ---
const themeBtn = document.getElementById('themeBtn');
let isLight = false;
function setTheme(light){
  document.body.classList.toggle('light', light);
  themeBtn.textContent = light ? 'â˜€ï¸ Å viesi' : 'ğŸŒ™ Tamsi';
}
setTheme(false);
themeBtn.addEventListener('click', ()=>{ isLight = !isLight; setTheme(isLight); });

// --- SkaiÄiavimas ---
const weights = ['TM','LB','CH','DM','IN'];
function readValue(name){
  const nodes = document.getElementsByName(name);
  for(const n of nodes){ if(n.checked) return parseInt(n.value,10); }
  return null;
}
function score(){
  const groups = {TM:0,LB:0,CH:0,DM:0,IN:0};
  const counts = {TM:0,LB:0,CH:0,DM:0,IN:0};
  for(let i=1;i<=20;i++){
    const v = readValue('q'+i);
    const cont = document.getElementById('q'+i);
    const w = cont.getAttribute('data-weight');
    const type = cont.getAttribute('data-type');
    if(v!=null){
      let val = v;
      if(type==='neg') val = 6 - v; // invertuotas
      // nelinijinis skoringas: kraÅ¡tutinÄ—s vertÄ—s Å¡iek tiek sustiprinamos
      const nl = (val===5?5.5:(val===1?1.2:val));
      groups[w] += nl; counts[w] += 1;
    }
  }
  // normalizuojame Ä¯ 0â€“20 per archetipÄ…
  for(const k of weights){
    if(counts[k]>0) groups[k] = groups[k] / counts[k] * 4; // 4 klausimai per archetipÄ…
  }
  return groups;
}

// --- AI interpretacija taisykliÅ³ logika ---
function interpret(g){
  const order = Object.entries(g).sort((a,b)=>b[1]-a[1]);
  const top = order[0];
  const low = order[order.length-1];
  let txt = '';
  txt += `Dominuoja **${label(top[0])}** (â‰ˆ ${top[1].toFixed(1)}). `;
  txt += `Silpniausia sritis â€“ **${label(low[0])}** (â‰ˆ ${low[1].toFixed(1)}).`;
  // Rizikos maÅ¾inimas + stiprybiÅ³ eksperimentai
  const tips = {
    TM:['Skatink matomumÄ…: â€shadow presenterâ€œ jaunam talentui','Rotuok â€savaitÄ—s projekto Å¡eimininkÄ…â€œ'],
    LB:['PaÅ¡alink kliÅ«tis â€dienos blokatoriÅ³â€œ stand-upâ€™e','Sutark â€klaidos bilietÄ…â€œ be kaltÅ³'],
    CH:['Sukurk 30 dienÅ³ â€ambicijos sprintÄ…â€œ','Naudok problemos â€KodÄ—lâ€œ medÄ¯ prieÅ¡ idÄ—jas'],
    DM:['Ä®vesk sprendimÅ³ kriterijÅ³ lentÄ…','DuomenÅ³ patikra: prieÅ¡ sprendimÄ… â€“ 2 Ä¯rodymai'],
    IN:['Deleguok rezultatÄ…, ne uÅ¾duotÄ¯','Sutark â€check-inâ€œ ritmÄ…, ne kontrolÄ™']
  };
  const exp = tips[top[0]][0];
  const risk = `MaÅ¾ink rizikÄ… ${label(low[0])} srityje: ${tips[low[0]][1]}.`;
  return `${txt}\n\n**Eksperimentas:** ${exp}.\n**Rizikos maÅ¾inimas:** ${risk}`;
}
function label(k){
  return ({TM:'Talent Magnet',LB:'Liberator',CH:'Challenger',DM:'Debate Maker',IN:'Investor'})[k];
}

// --- Radar ---
let radar;
function drawRadar(g){
  const data = [g.TM||0,g.LB||0,g.CH||0,g.DM||0,g.IN||0];
  const ctx = document.getElementById('radar');
  if(radar) radar.destroy();
  radar = new Chart(ctx, {
    type:'radar',
    data:{
      labels:['Talent Magnet','Liberator','Challenger','Debate Maker','Investor'],
      datasets:[{
        label:'Profilis',
        data,
        borderColor:getComputedStyle(document.body).getPropertyValue('--accent').trim(),
        backgroundColor:'rgba(96,165,250,0.2)'
      }]
    },
    options:{ scales:{ r:{ suggestedMin:0, suggestedMax:20, grid:{color:getComputedStyle(document.body).getPropertyValue('--muted').trim()}, pointLabels:{color:getComputedStyle(document.body).getPropertyValue('--text').trim()} }}, plugins:{ legend:{labels:{color:getComputedStyle(document.body).getPropertyValue('--text').trim()}}} }
  });
}

// --- SP kontrolÄ— ---
function spScore(){
  let s = 0; let n = 0;
  ['sp1','sp2','sp3','sp4','sp5'].forEach(id=>{ const v = readValue(id); if(v!=null){ s += v; n++; } });
  return n? s/n : 0; // aukÅ¡tesnÄ— reikÅ¡mÄ— â€“ didesnÄ— Å¡aliÅ¡kumo rizika
}

// --- Veiksmai ---
function calculate(){
  const g = score();
  drawRadar(g);
  const sp = spScore();
  const ai = interpret(g);
  const sum = Object.values(g).reduce((a,b)=>a+b,0).toFixed(1);
  let txt = `**Bendras balas:** ${sum} / 100`;
  txt += `\n**SP indeksas:** ${sp.toFixed(1)} (\u2191 reikÅ¡mÄ— = didesnÄ— Å¡aliÅ¡kumo rizika)`;
  txt += `\n\n${ai}`;
  document.getElementById('summary').innerHTML = marked(txt);
}

// paprastas Markdown renderer tik **bold**
function marked(s){
  return s.replace(/\*\*(.*?)\*\*/g,'<strong>$1</strong>').replace(/\n/g,'<br>');
}

document.getElementById('calcBtn').addEventListener('click', calculate);

document.getElementById('resetBtn').addEventListener('click', ()=>{
  document.querySelectorAll('input[type="radio"]').forEach(i=>i.checked=false);
  document.getElementById('summary').textContent = 'Kol kas neapskaiÄiuota.';
  if(radar) radar.destroy();
});

document.getElementById('pdfBtn').addEventListener('click', ()=>{
  const opt = { margin: 0.5, filename: 'multipliers_v7.pdf', jsPDF: { unit: 'cm', format:'a4', orientation: 'portrait' } };
  html2pdf().from(document.body).set(opt).save();
});
</script>
</body>
</html>